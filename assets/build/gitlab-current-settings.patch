--- lib/gitlab/current_settings.rb.orig	2016-06-27 10:18:24.000000000 -0500
+++ lib/gitlab/current_settings.rb	2016-06-27 10:22:20.000000000 -0500
@@ -9,12 +9,15 @@
     end
 
     def ensure_application_settings!
-      settings = ::ApplicationSetting.cached
-
-      if !settings && connect_to_db?
-        settings = ::ApplicationSetting.current
-        settings ||= ::ApplicationSetting.create_from_defaults unless ActiveRecord::Migrator.needs_migration?
+      if connect_to_db?
+        begin
+          settings = ::ApplicationSetting.cached
+        # In case Redis is not running
+        rescue
       end
+      settings ||= ::ApplicationSetting.current
+      settings ||= ::ApplicationSetting.create_from_defaults unless ActiveRecord::Migrator.needs_migration?
+     end
 
       settings || fake_application_settings
     end
